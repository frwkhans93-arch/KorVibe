<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KorVibe - Ø§Ù„Ù…Ø³Ù„Ø³Ù„Ø§Øª Ø§Ù„ÙƒÙˆØ±ÙŠØ©</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: #0f0f0f;
            color: white;
            direction: rtl;
        }
        
        /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
        .header {
            background: linear-gradient(135deg, #e50914, #b2070f);
            padding: 1.2rem;
            text-align: center;
            position: relative;
            box-shadow: 0 4px 20px rgba(229, 9, 20, 0.3);
        }
        
        .user-info {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0,0,0,0.3);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .user-points {
            background: #ffd700;
            color: #000;
            padding: 2px 8px;
            border-radius: 10px;
            font-weight: bold;
        }
        
        .notification-bell {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0,0,0,0.3);
            padding: 8px;
            border-radius: 50%;
            cursor: pointer;
        }
        
        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø³ÙÙ„ÙŠ */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            width: 100%;
            background: #1a1a1a;
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
            border-top: 2px solid #333;
            z-index: 1000;
        }
        
        .nav-item {
            text-align: center;
            color: #666;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.3s;
            flex: 1;
        }
        
        .nav-item.active {
            color: #e50914;
            transform: translateY(-5px);
        }
        
        .nav-icon {
            font-size: 1.4rem;
            margin-bottom: 4px;
            transition: all 0.3s;
        }
        
        .nav-item.active .nav-icon {
            transform: scale(1.2);
        }
        
        /* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
        .main-content {
            padding: 20px;
            padding-bottom: 100px;
            min-height: 100vh;
        }
        
        .page {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .page.active {
            display: block;
        }
        
        /* Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø« */
        .search-container {
            position: relative;
            margin: 1rem 0;
        }
        
        .search-input {
            width: 100%;
            padding: 15px 50px 15px 15px;
            background: #1f1f1f;
            color: white;
            border: 2px solid #333;
            border-radius: 25px;
            font-size: 1rem;
            transition: all 0.3s;
        }
        
        .search-input:focus {
            border-color: #e50914;
            outline: none;
        }
        
        .search-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
        }
        
        /* Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª */
        .categories {
            display: flex;
            gap: 0.8rem;
            margin: 1.5rem 0;
            overflow-x: auto;
            padding: 0.5rem 0;
        }
        
        .category-btn {
            background: #333;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            white-space: nowrap;
            font-size: 0.9rem;
        }
        
        .category-btn.active {
            background: #e50914;
            transform: scale(1.05);
        }
        
        /* Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù…Ø³Ù„Ø³Ù„Ø§Øª */
        .series-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.2rem;
            margin-top: 1.5rem;
        }
        
        @media (min-width: 768px) {
            .series-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        .series-card {
            background: linear-gradient(135deg, #1f1f1f, #2a2a2a);
            border-radius: 15px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid #333;
            position: relative;
        }
        
        .series-card:hover {
            transform: translateY(-8px);
            border-color: #e50914;
            box-shadow: 0 10px 25px rgba(229, 9, 20, 0.3);
        }
        
        .series-image {
            width: 100%;
            height: 180px;
            background: linear-gradient(45deg, #333, #555);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            position: relative;
        }
        
        .episode-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background: #e50914;
            color: white;
            padding: 4px 8px;
            border-radius: 10px;
            font-size: 0.7rem;
            font-weight: bold;
        }
        
        .series-info {
            padding: 1rem;
        }
        
        .series-title {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            color: #fff;
            line-height: 1.3;
        }
        
        .series-rating {
            color: #ffd700;
            margin-bottom: 0.3rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .series-meta {
            color: #ccc;
            font-size: 0.8rem;
            display: flex;
            justify-content: space-between;
        }
        
        /* ØµÙØ­Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ */
        .profile-header {
            text-align: center;
            padding: 2rem 0;
            background: linear-gradient(135deg, #1a1a1a, #2a2a2a);
            border-radius: 20px;
            margin-bottom: 1.5rem;
        }
        
        .profile-avatar {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, #e50914, #ff1a1a);
            border-radius: 50%;
            margin: 0 auto 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            border: 4px solid #ffd700;
        }
        
        .profile-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin: 1.5rem 0;
        }
        
        .stat-item {
            background: #1a1a1a;
            padding: 1rem;
            border-radius: 12px;
            text-align: center;
        }
        
        .profile-menu {
            background: #1a1a1a;
            border-radius: 15px;
            padding: 0;
            margin: 1.5rem 0;
            overflow: hidden;
        }
        
        .menu-item {
            padding: 1.2rem;
            border-bottom: 1px solid #333;
            cursor: pointer;
            transition: background 0.3s;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .menu-item:last-child {
            border-bottom: none;
        }
        
        .menu-item:hover {
            background: #2a2a2a;
        }
        
        .logout-btn {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 12px;
            width: 100%;
            font-size: 1rem;
            cursor: pointer;
            margin-top: 1rem;
            font-weight: bold;
        }
        
        /* Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª */
        .ad-banner {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            margin: 2rem 0;
            padding: 1.5rem;
            border-radius: 15px;
            text-align: center;
            color: white;
            font-weight: bold;
            border: 2px solid #ffd700;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }
        
        /* Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª */
        .notification-panel {
            position: fixed;
            top: 0;
            right: -400px;
            width: 350px;
            height: 100vh;
            background: #1a1a1a;
            z-index: 2000;
            transition: right 0.3s ease;
            border-left: 2px solid #e50914;
            overflow-y: auto;
        }
        
        .notification-panel.active {
            right: 0;
        }
        
        .notification-header {
            background: #e50914;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .notification-item {
            padding: 1rem;
            border-bottom: 1px solid #333;
            cursor: pointer;
        }
        
        .notification-item:hover {
            background: #2a2a2a;
        }
        
        /* Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
        .loading {
            text-align: center;
            padding: 2rem;
            color: #ccc;
        }
        
        .loading-spinner {
            border: 3px solid #333;
            border-top: 3px solid #e50914;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
    <header class="header">
        <div class="user-info">
            <span class="user-points" id="user-points">100</span>
            <span id="user-name">Ù…Ø³ØªØ®Ø¯Ù…</span>
        </div>
        <h1>KorVibe ğŸ¬</h1>
        <p>Ù…Ø³Ù„Ø³Ù„Ø§Øª ÙƒÙˆØ±ÙŠØ© ÙÙŠ Ù…Ù‚Ø§Ø·Ø¹ Ù‚ØµÙŠØ±Ø©</p>
        <div class="notification-bell" onclick="toggleNotifications()">
            ğŸ”” <span class="notification-count" id="notification-count">0</span>
        </div>
    </header>
    
    <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <div class="main-content">
        <!-- Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
        <div id="home-page" class="page active">
            <div class="search-container">
                <input type="text" class="search-input" id="search-input" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ø³Ù„Ø³Ù„..." onkeyup="searchSeries()">
                <div class="search-icon">ğŸ”</div>
            </div>
            
            <div class="categories">
                <button class="category-btn active" onclick="filterSeries('all')">Ø§Ù„ÙƒÙ„</button>
                <button class="category-btn" onclick="filterSeries('popular')">ğŸ”¥ Ø§Ù„Ø£ÙƒØ«Ø± Ù…Ø´Ø§Ù‡Ø¯Ø©</button>
                <button class="category-btn" onclick="filterSeries('new')">ğŸ†• Ø§Ù„Ø¬Ø¯ÙŠØ¯</button>
                <button class="category-btn" onclick="filterSeries('romance')">ğŸ’– Ø§Ù„Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠØ©</button>
                <button class="category-btn" onclick="filterSeries('action')">ğŸ’¥ Ø§Ù„Ø£ÙƒØ´Ù†</button>
                <button class="category-btn" onclick="filterSeries('drama')">ğŸ­ Ø§Ù„Ø¯Ø±Ø§Ù…Ø§</button>
            </div>
            
            <div class="ad-banner">
                ğŸª Ø¥Ø¹Ù„Ø§Ù†: Ø´Ø§Ù‡Ø¯ Ø£Ø­Ø¯Ø« Ø§Ù„Ù…Ø³Ù„Ø³Ù„Ø§Øª Ø§Ù„ÙƒÙˆØ±ÙŠØ© Ù…Ø¬Ø§Ù†Ø§Ù‹!
            </div>
            
            <div class="series-grid" id="series-grid">
                <!-- Ø§Ù„Ù…Ø³Ù„Ø³Ù„Ø§Øª ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
            </div>
        </div>
        
        <!-- ØµÙØ­Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ -->
        <div id="profile-page" class="page">
            <div class="profile-header">
                <div class="profile-avatar">ğŸ‘¤</div>
                <h2 id="profile-name">Ù…Ø³ØªØ®Ø¯Ù… KorVibe</h2>
                <p id="profile-email">user@example.com</p>
                <div class="profile-stats">
                    <div class="stat-item">
                        <div>ğŸª™ Ø§Ù„Ù†Ù‚Ø§Ø·</div>
                        <div id="stat-points" style="font-weight: bold; color: #ffd700;">100</div>
                    </div>
                    <div class="stat-item">
                        <div>â­ Ø§Ù„Ù…Ø³ØªÙˆÙ‰</div>
                        <div id="stat-level" style="font-weight: bold; color: #e50914;">1</div>
                    </div>
                    <div class="stat-item">
                        <div>ğŸ“º Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª</div>
                        <div id="stat-views" style="font-weight: bold; color: #74b9ff;">0</div>
                    </div>
                </div>
            </div>
            
            <div class="profile-menu">
                <div class="menu-item" onclick="showSection('favorites')">
                    <span>â­ Ø§Ù„Ù…ÙØ¶Ù„Ø©</span>
                    <span id="favorites-count" style="color: #ffd700;">0</span>
                </div>
                <div class="menu-item" onclick="showSection('history')">
                    <span>ğŸ“º Ø¢Ø®Ø± Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª</span>
                    <span id="history-count" style="color: #74b9ff;">0</span>
                </div>
                <div class="menu-item" onclick="showSection('achievements')">
                    <span>ğŸ† Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª</span>
                    <span id="achievements-count" style="color: #ffd700;">0/10</span>
                </div>
                <div class="menu-item" onclick="showSection('settings')">
                    <span>âš™ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</span>
                    <span>â†’</span>
                </div>
                <div class="menu-item" onclick="showSection('help')">
                    <span>â“ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©</span>
                    <span>â†’</span>
                </div>
            </div>
            
            <button class="logout-btn" onclick="logout()">ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
        </div>
        
        <!-- ØµÙØ­Ø§Øª Ø£Ø®Ø±Ù‰ -->
        <div id="movies-page" class="page">
            <h2>ğŸ¦ Ø§Ù„Ø£ÙÙ„Ø§Ù… Ø§Ù„ÙƒÙˆØ±ÙŠØ©</h2>
            <div class="loading">
                <div class="loading-spinner"></div>
                <p>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>
            </div>
        </div>
        
        <div id="room-page" class="page">
            <h2>ğŸ¤ Ø§Ù„ØºØ±ÙØ© Ø§Ù„ØµÙˆØªÙŠØ©</h2>
            <div style="background: #1a1a1a; padding: 2rem; border-radius: 15px; text-align: center;">
                <div style="font-size: 4rem; margin-bottom: 1rem;">ğŸ¤</div>
                <h3>Ø§Ù†Ø¶Ù… Ù„Ù„Ù…Ø¬ØªÙ…Ø¹</h3>
                <p style="color: #ccc; margin: 1rem 0;">ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ù…Ø­Ø¨ÙŠ Ø§Ù„Ø¯Ø±Ø§Ù…Ø§ Ø§Ù„ÙƒÙˆØ±ÙŠØ©</p>
                <button style="background: #e50914; color: white; border: none; padding: 12px 30px; border-radius: 25px; cursor: pointer;">Ø§Ù†Ø¶Ù… Ø§Ù„Ø¢Ù†</button>
            </div>
        </div>
        
        <div id="chat-page" class="page">
            <h2>ğŸ’¬ Ø§Ù„Ø¯Ø±Ø¯Ø´Ø§Øª</h2>
            <div style="background: #1a1a1a; padding: 2rem; border-radius: 15px; text-align: center;">
                <div style="font-size: 4rem; margin-bottom: 1rem;">ğŸ’¬</div>
                <h3>ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡</h3>
                <p style="color: #ccc; margin: 1rem 0;">Ø´Ø§Ø±Ùƒ Ø¢Ø±Ø§Ø¡Ùƒ Ø­ÙˆÙ„ Ø§Ù„Ù…Ø³Ù„Ø³Ù„Ø§Øª</p>
                <button style="background: #e50914; color: white; border: none; padding: 12px 30px; border-radius: 25px; cursor: pointer;">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©</button>
            </div>
        </div>
        
        <!-- ØµÙØ­Ø© Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø© -->
        <div id="video-page" class="page">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                <button onclick="showPage('home-page')" style="background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer;">â†</button>
                <h3 id="video-title">Ø§Ù„Ø­Ø¨ Ø§Ù„ÙƒÙˆØ±ÙŠ</h3>
                <button id="favorite-btn" style="background: none; border: none; color: #666; font-size: 1.5rem; cursor: pointer;">â™¥</button>
            </div>
            
            <div style="background: #000; height: 250px; display: flex; align-items: center; justify-content: center; border-radius: 15px; margin-bottom: 1.5rem; position: relative;">
                <div style="text-align: center;">
                    <div style="font-size: 4rem;">ğŸ¬</div>
                    <p>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ´ØºÙŠÙ„...</p>
                </div>
                <div style="position: absolute; bottom: 10px; left: 10px; background: rgba(0,0,0,0.7); padding: 5px 10px; border-radius: 5px; font-size: 0.8rem;">
                    Ø¥Ø¹Ù„Ø§Ù† Ø¨Ø¹Ø¯: <span id="ad-counter">2</span> Ù…Ù‚Ø§Ø·Ø¹
                </div>
            </div>
            
            <div style="background: #1a1a1a; padding: 1.2rem; border-radius: 12px;">
                <strong id="current-episode">Ø§Ù„Ø­Ù„Ù‚Ø© 1</strong>
                <div style="display: flex; gap: 0.8rem; margin-top: 1rem; flex-wrap: wrap;">
                    <button onclick="playVideoPart(1)" style="background: #e50914; color: white; border: none; padding: 8px 15px; border-radius: 8px; cursor: pointer; font-size: 0.9rem;">Ø¬Ø²Ø¡ 1 (2:30)</button>
                    <button onclick="playVideoPart(2)" style="background: #e50914; color: white; border: none; padding: 8px 15px; border-radius: 8px; cursor: pointer; font-size: 0.9rem;">Ø¬Ø²Ø¡ 2 (2:15)</button>
                    <button onclick="playVideoPart(3)" style="background: #e50914; color: white; border: none; padding: 8px 15px; border-radius: 8px; cursor: pointer; font-size: 0.9rem;">Ø¬Ø²Ø¡ 3 (2:45)</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª -->
    <div class="notification-panel" id="notification-panel">
        <div class="notification-header">
            <h3>ğŸ”” Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</h3>
            <button onclick="toggleNotifications()" style="background: none; border: none; color: white; font-size: 1.2rem; cursor: pointer;">âœ•</button>
        </div>
        <div id="notifications-list">
            <!-- Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
        </div>
    </div>
    
    <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø³ÙÙ„ÙŠ -->
    <div class="bottom-nav">
        <div class="nav-item active" onclick="showPage('home-page')">
            <div class="nav-icon">ğŸ </div>
            <div>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
        </div>
        <div class="nav-item" onclick="showPage('movies-page')">
            <div class="nav-icon">ğŸ¦</div>
            <div>Ø§Ù„Ø£ÙÙ„Ø§Ù…</div>
        </div>
        <div class="nav-item" onclick="showPage('room-page')">
            <div class="nav-icon">ğŸ¤</div>
            <div>Ø§Ù„ØºØ±ÙØ©</div>
        </div>
        <div class="nav-item" onclick="showPage('chat-page')">
            <div class="nav-icon">ğŸ’¬</div>
            <div>Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©</div>
        </div>
        <div class="nav-item" onclick="showPage('profile-page')">
            <div class="nav-icon">ğŸ‘¤</div>
            <div>Ø§Ù„Ù…Ù„Ù</div>
        </div>
    </div>

    <script>
        // Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
        class KorVibeApp {
            constructor() {
                this.currentUser = JSON.parse(localStorage.getItem('korvibe_currentUser') || 'null');
                this.series = JSON.parse(localStorage.getItem('korvibe_series') || this.getDefaultSeries());
                this.notifications = JSON.parse(localStorage.getItem('korvibe_notifications') || []);
                this.watchHistory = JSON.parse(localStorage.getItem('korvibe_watchHistory') || []);
                this.favorites = JSON.parse(localStorage.getItem('korvibe_favorites') || []);
                
                this.adCounter = 0;
                this.currentFilter = 'all';
                this.currentSearch = '';
                
                this.init();
            }
            
            getDefaultSeries() {
                return [
                    {
                        id: 1,
                        title: "Ø§Ù„Ø­Ø¨ Ø§Ù„ÙƒÙˆØ±ÙŠ",
                        emoji: "ğŸ’–",
                        rating: 4.5,
                        episodes: 16,
                        year: 2024,
                        color: "#ff6b6b",
                        category: "romance",
                        views: 12500,
                        description: "Ù‚ØµØ© Ø­Ø¨ Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠØ© Ø¨ÙŠÙ† Ø·Ø§Ù„Ø¨ÙŠÙ† ÙÙŠ Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©",
                        duration: "2:30",
                        isNew: true
                    },
                    {
                        id: 2,
                        title: "Ø§Ù„ÙˆØ±Ø«Ø©",
                        emoji: "ğŸ‘‘",
                        rating: 4.7,
                        episodes: 20,
                        year: 2023,
                        color: "#74b9ff",
                        category: "drama",
                        views: 18700,
                        description: "Ø¯Ø±Ø§Ù…Ø§ Ø¹Ù† ÙˆØ±Ø«Ø© Ø´Ø±ÙƒØ§Øª ÙƒØ¨ÙŠØ±Ø© ÙˆØªØ­Ø¯ÙŠØ§ØªÙ‡Ù…",
                        duration: "2:15",
                        isNew: false
                    },
                    {
                        id: 3,
                        title: "Ø§Ù„Ø­Ø±Ø¨Ø§Ø¡",
                        emoji: "ğŸ¦",
                        rating: 4.8,
                        episodes: 12,
                        year: 2024,
                        color: "#55efc4",
                        category: "action",
                        views: 15600,
                        description: "Ø£ÙƒØ´Ù† Ù…Ø´ÙˆÙ‚ Ø¹Ù† Ø¹Ù…ÙŠÙ„ Ø³Ø±ÙŠ Ù…ØªØ®ÙÙ",
                        duration: "2:45",
                        isNew: true
                    },
                    {
                        id: 4,
                        title: "Ø§Ù„Ù‚Ù…Ø± Ø§Ù„Ø£Ø­Ù…Ø±",
                        emoji: "ğŸŒ™",
                        rating: 4.3,
                        episodes: 18,
                        year: 2023,
                        color: "#a29bfe",
                        category: "romance",
                        views: 9800,
                        description: "Ù‚ØµØ© Ø­Ø±Ø§Ù…ÙŠØ© ØªÙ„ØªÙ‚ÙŠ Ø¨Ø´Ø±Ø·ÙŠ ÙÙŠ Ø¸Ø±ÙˆÙ ØºØ§Ù…Ø¶Ø©",
                        duration: "2:20",
                        isNew: false
                    },
                    {
                        id: 5,
                        title: "Ø§Ù„Ø£Ù…ÙŠØ±Ø©",
                        emoji: "ğŸ‘¸",
                        rating: 4.6,
                        episodes: 14,
                        year: 2024,
                        color: "#fd79a8",
                        category: "drama",
                        views: 14200,
                        description: "Ø£Ù…ÙŠØ±Ø© ØªÙÙ‚Ø¯ Ø°Ø§ÙƒØ±ØªÙ‡Ø§ ÙˆØªØ¹ÙŠØ´ Ø­ÙŠØ§Ø© Ø¬Ø¯ÙŠØ¯Ø©",
                        duration: "2:35",
                        isNew: true
                    },
                    {
                        id: 6,
                        title: "Ø§Ù„Ø·Ø¨ÙŠØ¨",
                        emoji: "âš•",
                        rating: 4.4,
                        episodes: 22,
                        year: 2023,
                        color: "#ffeaa7",
                        category: "drama",
                        views: 16300,
                        description: "Ø·Ø¨ÙŠØ¨ Ù…ÙˆÙ‡ÙˆØ¨ ÙŠÙˆØ§Ø¬Ù‡ ØªØ­Ø¯ÙŠØ§Øª ÙÙŠ Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ù†Ø®Ø¨Ø©",
                        duration: "2:25",
                        isNew: false
                    }
                ];
            }
            
            init() {
                this.loadUserInfo();
                this.loadSeries();
                this.loadNotifications();
                this.setupEventListeners();
            }
            
            loadUserInfo() {
                if (this.currentUser) {
                    document.getElementById('user-name').textContent = this.currentUser.name;
                    document.getElementById('user-points').textContent = this.currentUser.points;
                    document.getElementById('profile-name').textContent = this.currentUser.name;
                    document.getElementById('profile-email').textContent = this.currentUser.email;
                    document.getElementById('stat-points').textContent = this.currentUser.points;
                    document.getElementById('stat-level').textContent = this.currentUser.level;
                    document.getElementById('stat-views').textContent = this.watchHistory.length;
                    document.getElementById('favorites-count').textContent = this.favorites.length;
                    document.getElementById('history-count').textContent = this.watchHistory.length;
                    document.getElementById('achievements-count').textContent = this.calculateAchievements() + '/10';
                }
            }
            
            loadSeries(filter = 'all') {
                let filteredSeries = this.series;
                
                // Ø§Ù„ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹
                if (filter === 'popular') {
                    filteredSeries = [...this.series].sort((a, b) => b.views - a.views);
                } else if (filter === 'new') {
                    filteredSeries = this.series.filter(series => series.isNew);
                } else if (filter !== 'all') {
                    filteredSeries = this.series.filter(series => series.category === filter);
                }
                
                // Ø§Ù„ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ø¨Ø­Ø«
                if (this.currentSearch) {
                    filteredSeries = filteredSeries.filter(series => 
                        series.title.toLowerCase().includes(this.currentSearch.toLowerCase())
                    );
                }
                
                const grid = document.getElementById('series-grid');
                grid.innerHTML = filteredSeries.map(series => `
                    <div class="series-card" onclick="app.playSeries(${series.id})">
                        <div class="series-image" style="background: linear-gradient(135deg, ${series.color}, #333)">
                            ${series.emoji}
                            ${series.isNew ? '<div class="episode-badge">ğŸ†•</div>' : ''}
                            <div class="episode-badge" style="top: 40px; background: #333;">${series.episodes} Ø­Ù„Ù‚Ø©</div>
                        </div>
                        <div class="series-info">
                            <h4 class="series-title">${series.title}</h4>
                            <div class="series-rating">
                                ${'â˜…'.repeat(Math.floor(series.rating))}${'â˜†'.repeat(5-Math.floor(series.rating))} 
                                <span style="color: #ccc;">${series.rating}</span>
                            </div>
                            <div class="series-meta">
                                <span>${series.year}</span>
                                <span>ğŸ‘ ${series.views.toLocaleString()}</span>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
            
            loadNotifications() {
                // Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
                if (this.notifications.length === 0) {
                    this.notifications = [
                        {
                            id: 1,
                            title: "Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ KorVibe!",
                            message: "ØªÙ… Ù…Ù†Ø­Ùƒ 100 Ù†Ù‚Ø·Ø© ØªØ±Ø­ÙŠØ¨ÙŠØ©",
                            time: new Date().toISOString(),
                            read: false
                        },
                        {
                            id: 2,
                            title: "Ù…Ø³Ù„Ø³Ù„ Ø¬Ø¯ÙŠØ¯",
                            message: "Ø§Ù„Ø­Ø¨ Ø§Ù„ÙƒÙˆØ±ÙŠ Ù…ØªØ§Ø­ Ø§Ù„Ø¢Ù† Ù„Ù„Ù…Ø´Ø§Ù‡Ø¯Ø©",
                            time: new Date().toISOString(),
                            read: false
                        }
                    ];
                    this.saveNotifications();
                }
                
                document.getElementById('notification-count').textContent = 
                    this.notifications.filter(n => !n.read).length;
                
                const list = document.getElementById('notifications-list');
                list.innerHTML = this.notifications.map(notification => `
                    <div class="notification-item ${notification.read ? '' : 'unread'}" 
                         onclick="app.markNotificationRead(${notification.id})">
                        <strong>${notification.title}</strong>
                        <p style="color: #ccc; margin: 5px 0; font-size: 0.9rem;">${notification.message}</p>
                        <small style="color: #666;">${this.formatTime(notification.time)}</small>
                    </div>
                `).join('');
            }
            
            playSeries(seriesId) {
                const series = this.series.find(s => s.id === seriesId);
                if (series) {
                    document.getElementById('video-title').textContent = series.title;
                    document.getElementById('current-episode').textContent = 'Ø§Ù„Ø­Ù„Ù‚Ø© 1';
                    document.getElementById('ad-counter').textContent = 2 - (this.adCounter % 2);
                    
                    // Ø²ÙŠØ§Ø¯Ø© Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª
                    series.views++;
                    this.saveSeries();
                    
                    // Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ø¬Ù„
                    this.addToWatchHistory(seriesId);
                    
                    showPage('video-page');
                }
            }
            
            playVideoPart(part) {
                this.adCounter++;
                
                if (this.adCounter % 2 === 0) {
                    this.showAd();
                } else {
                    alert(ğŸ¬ Ø¬Ø§Ø±ÙŠ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¬Ø²Ø¡ ${part}\n\nØ§Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø©!);
                }
            }
            
            showAd() {
                alert('ğŸª Ø¥Ø¹Ù„Ø§Ù† - Ø´ÙƒØ±Ø§Ù‹ Ù„Ù…Ø´Ø§Ù‡Ø¯ØªÙƒ! Ø³ÙŠØ³ØªÙ…Ø± Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†Ù...');
                
                // Ù…Ù†Ø­ Ù†Ù‚Ø§Ø· Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
                if (this.currentUser) {
                    this.currentUser.points += 5;
                    this.saveUser();
                    this.loadUserInfo();
                }
            }
            
            addToWatchHistory(seriesId) {
                this.watchHistory.unshift({
                    seriesId,
                    timestamp: new Date().toISOString()
                });
                
                // Ø­ÙØ¸ Ø¢Ø®Ø± 50 Ù…Ø´Ø§Ù‡Ø¯Ø© ÙÙ‚Ø·
                if (this.watchHistory.length > 50) {
                    this.watchHistory.pop();
                }
                
                this.saveWatchHistory();
            }
            
            calculateAchievements() {
                let achievements = 0;
                if (this.watchHistory.length >= 10) achievements++;
                if (this.favorites.length >= 5) achievements++;
                if (this.currentUser && this.currentUser.points >= 500) achievements++;
                return achievements;
            }
            
            markNotificationRead(notificationId) {
                const notification = this.notifications.find(n => n.id === notificationId);
                if (notification) {
                    notification.read = true;
                    this.saveNotifications();
                    this.loadNotifications();
                }
            }
            
            searchSeries() {
                this.currentSearch = document.getElementById('search-input').value;
                this.loadSeries(this.currentFilter);
            }
            
            filterSeries(filter) {
                this.currentFilter = filter;
                
                // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª
                document.querySelectorAll('.category-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                event.target.classList.add('active');
                
                this.loadSeries(filter);
            }
            
            toggleFavorite(seriesId) {
                const index = this.favorites.indexOf(seriesId);
                if (index > -1) {
                    this.favorites.splice(index, 1);
                } else {
                    this.favorites.push(seriesId);
                }
                this.saveFavorites();
                this.loadUserInfo();
            }
            
            logout() {
                if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ')) {
                    localStorage.removeItem('korvibe_currentUser');
                    window.location.href = 'login.html';
                }
            }
            
            formatTime(timestamp) {
                const date = new Date(timestamp);
                return date.toLocaleDateString('ar-EG') + ' ' + date.toLocaleTimeString('ar-EG');
            }
            
            // Ø¯ÙˆØ§Ù„ Ø§Ù„Ø­ÙØ¸
            saveSeries() {
                localStorage.setItem('korvibe_series', JSON.stringify(this.series));
            }
            
            saveNotifications() {
                localStorage.setItem('korvibe_notifications', JSON.stringify(this.notifications));
            }
            
            saveWatchHistory() {
                localStorage.setItem('korvibe_watchHistory', JSON.stringify(this.watchHistory));
            }
            
            saveFavorites() {
                localStorage.setItem('korvibe_favorites', JSON.stringify(this.favorites));
            }
            
            saveUser() {
                localStorage.setItem('korvibe_currentUser', JSON.stringify(this.currentUser));
            }
            
            setupEventListeners() {
                // Ø¥ØºÙ„Ø§Ù‚ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
                document.addEventListener('click', (e) => {
                    const panel = document.getElementById('notification-panel');
                    const bell = document.querySelector('.notification-bell');
                    if (!panel.contains(e.target) && !bell.contains(e.target)) {
                        panel.classList.remove('active');
                    }
                });
            }
        }

        // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        const app = new KorVibeApp();

        // Ø¯ÙˆØ§Ù„ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
            
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            const navItems = document.querySelectorAll('.nav-item');
            for (let item of navItems) {
                if (item.onclick && item.onclick.toString().includes(pageId)) {
                    item.classList.add('active');
                    break;
                }
            }
        }

        function toggleNotifications() {
            document.getElementById('notification-panel').classList.toggle('active');
        }

        function showSection(section) {
            alert(ğŸš§ ${section} - Ù‡Ø°Ù‡ Ø§Ù„Ù…ÙŠØ²Ø© Ù‚ÙŠØ¯ Ø§Ù„ØªØ·ÙˆÙŠØ±);
        }

        function logout() {
            app.logout();
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        if (!app.currentUser) {
            window.location.href = 'login.html';
        }
    </script>
</body>
</html>
